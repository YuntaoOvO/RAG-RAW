# âš›ï¸  RAG-RAW
Based on the project arxivdb, we developed RAGRAP(Retrieval-Augmented Generation with Reason-Acting Workflow). With high spirits, we are here providing a LLM-powered workflow for deeper and more practical research, enabling AI to work like a graduate student instead of following their whimsies.

# RAGæ–‡çŒ®ç»¼è¿°ä¸ReActç‰©ç†ç ”ç©¶ç³»ç»Ÿ

<div align="center">

![Python](https://img.shields.io/badge/Python-3.10+-blue.svg)
![Streamlit](https://img.shields.io/badge/Streamlit-1.28+-red.svg)
![Pythia8](https://img.shields.io/badge/Pythia8mc-8.3+-green.svg)
![License](https://img.shields.io/badge/License-MIT-yellow.svg)

**ä¸€ä¸ªåŸºäºå¤§è¯­è¨€æ¨¡å‹çš„è‡ªä¸»çŸ¥è¯†å‘ç°æ™ºèƒ½ä½“ç³»ç»Ÿ**

[English](README_EN.md) | ç®€ä½“ä¸­æ–‡

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®å®ç°äº†ä¸€ä¸ªå®Œæ•´çš„**è‡ªä¸»çŸ¥è¯†å‘ç°æ™ºèƒ½ä½“ç³»ç»Ÿ**ï¼Œé€šè¿‡é›†æˆarXivæ–‡çŒ®çš„å‘é‡æ•°æ®åº“è¿›è¡Œè¯­ä¹‰æ£€ç´¢å’Œä¿¡æ¯æ•´åˆï¼Œç”Ÿæˆæœ‰æ•ˆã€å…¨é¢ä¸”å¯æº¯æºçš„æ–‡çŒ®ç»¼è¿°æŠ¥å‘Šï¼Œå¹¶é€šè¿‡ReActå·¥ä½œæµèµ‹äºˆå¤§è¯­è¨€æ¨¡å‹ä½¿ç”¨å·¥å…·(tools)çš„èƒ½åŠ›ï¼Œå®ç°è‡ªä¸»é€‰å®šå·²ç”Ÿæˆçš„æ–‡çŒ®ç»¼è¿°ä¸­çš„æœªæ¥æ½œåœ¨ç ”ç©¶æ–¹å‘çš„åˆæ­¥å®šé‡æ¢ç´¢ã€‚

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

1. **æ–‡çŒ®ç»¼è¿°å·¥ä½œæµ (Literature Review Pipeline)**
   - åŸºäºç”¨æˆ·è¾“å…¥çš„ç ”ç©¶ä¸»é¢˜ï¼ŒAIè‡ªåŠ¨ç”Ÿæˆ30æ¡arXivæœç´¢æŸ¥è¯¢
   - è‡ªåŠ¨ä¸‹è½½ç›¸å…³å­¦æœ¯è®ºæ–‡PDF
   - ä½¿ç”¨BGE-M3åµŒå…¥æ¨¡å‹æ„å»ºChromaDBå‘é‡æ•°æ®åº“
   - ä¸‰é˜¶æ®µæ¸è¿›å¼æ–‡çŒ®ç»¼è¿°ç”Ÿæˆï¼ˆè‰ç¨¿1â†’è‰ç¨¿2â†’æœ€ç»ˆç‰ˆæœ¬ï¼‰
   - æ”¯æŒä¸­è‹±æ–‡åŒè¯­è¾“å‡º

2. **ReActæ™ºèƒ½ä½“å·¥ä½œæµ (Reason-Act Agent)**
   - å®ç°Reason-Actå¾ªç¯æ¨ç†æ¡†æ¶
   - å·¥å…·å¢å¼ºçš„AIèƒ½åŠ›ï¼ˆæ–‡ä»¶è¯»å†™ã€ä»£ç æ‰§è¡Œã€Pythia8æ¨¡æ‹Ÿç­‰ï¼‰
   - è‡ªä¸»æå–æ–‡çŒ®ç»¼è¿°ä¸­çš„æœªæ¥ç ”ç©¶æ–¹å‘
   - è‡ªåŠ¨ç”Ÿæˆå¹¶æ‰§è¡ŒPythia8è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿè„šæœ¬
   - ç”Ÿæˆmatplotlibå¯è§†åŒ–å›¾è¡¨
   - è¾“å‡ºç»“æ„åŒ–çš„åˆ†æç»“æœJSON

3. **ç ”ç©¶è®ºæ–‡ç”Ÿæˆ (Article Generation)**
   - æ•´åˆæ–‡çŒ®ç»¼è¿°ä¸æ¨¡æ‹Ÿç»“æœ
   - è‡ªåŠ¨ç”ŸæˆLaTeXæ ¼å¼çš„ç ”ç©¶è®ºæ–‡
   - æ­£ç¡®å¼•ç”¨å·²ç”Ÿæˆçš„å›¾è¡¨
   - æ”¯æŒä¸­è‹±æ–‡åŒè¯­ç‰ˆæœ¬

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    RAG Literature Review System                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Phase 1: Literature Review Pipeline                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Query    â”‚â†’ â”‚ PDF      â”‚â†’ â”‚ Vector   â”‚â†’ â”‚ 3-Stage Review   â”‚ â”‚
â”‚  â”‚ Generate â”‚  â”‚ Download â”‚  â”‚ Database â”‚  â”‚ Generation       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Phase 2: ReAct Agent Loop                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Read â”‚â†’ â”‚ Extract â”‚â†’ â”‚ Generate â”‚â†’ â”‚ Execute â”‚â†’ â”‚ Analyze â”‚  â”‚
â”‚  â”‚      â”‚  â”‚ Future  â”‚  â”‚ Pythia8  â”‚  â”‚ Simul.  â”‚  â”‚ Results â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Phase 3: Article Generation                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Combine      â”‚â†’ â”‚ Generate     â”‚â†’ â”‚ Output LaTeX Article â”‚   â”‚
â”‚  â”‚ Review+Sim   â”‚  â”‚ With Figures â”‚  â”‚ (EN + ZH)            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
Mydata/
â”œâ”€â”€ react_streamlit.py          # Streamlitä¸»åº”ç”¨ç¨‹åº
â”œâ”€â”€ react_workflow.html         # å·¥ä½œæµå¯è§†åŒ–é¡µé¢
â”œâ”€â”€ react_frontend.html         # äº¤äº’å¼å‰ç«¯é¡µé¢
â”œâ”€â”€ article_generator.py        # ç ”ç©¶è®ºæ–‡ç”Ÿæˆå™¨
â”œâ”€â”€ result_detector.py          # ç»“æœæ£€æµ‹ä¸åŠ è½½å·¥å…·
â”œâ”€â”€ react_session.py            # ReActä¼šè¯ç®¡ç†
â”œâ”€â”€ rag_core.py                 # RAGæ ¸å¿ƒåŠŸèƒ½æ¨¡å—
â”‚
â”œâ”€â”€ step1_query_gen.py          # æ­¥éª¤1: æŸ¥è¯¢ç”Ÿæˆ
â”œâ”€â”€ step2_download.py           # æ­¥éª¤2: PDFä¸‹è½½
â”œâ”€â”€ step3_vectordb.py           # æ­¥éª¤3: å‘é‡æ•°æ®åº“
â”œâ”€â”€ step4_generate.py           # æ­¥éª¤4: æ–‡çŒ®ç»¼è¿°ç”Ÿæˆ
â”‚
â”œâ”€â”€ react/                      # ReActæ™ºèƒ½ä½“æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ agent.py                # åŸå§‹ReActæ™ºèƒ½ä½“
â”‚   â”œâ”€â”€ agent_v2.py             # é‡æ„ç‰ˆReActæ™ºèƒ½ä½“ï¼ˆæ¨èï¼‰
â”‚   â”œâ”€â”€ config.py               # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ tools/                  # å·¥å…·é›†
â”‚   â”‚   â”œâ”€â”€ file_reader.py      # æ–‡ä»¶è¯»å–å·¥å…·
â”‚   â”‚   â”œâ”€â”€ file_writer.py      # æ–‡ä»¶å†™å…¥å·¥å…·
â”‚   â”‚   â”œâ”€â”€ code_executor.py    # ä»£ç æ‰§è¡Œå·¥å…·
â”‚   â”‚   â”œâ”€â”€ pythia_tool.py      # Pythia8æ¨¡æ‹Ÿå·¥å…·
â”‚   â”‚   â””â”€â”€ analyzer.py         # åˆ†æå·¥å…·
â”‚   â””â”€â”€ prompts/                # æç¤ºè¯æ¨¡æ¿
â”‚       â”œâ”€â”€ researcher.py
â”‚       â””â”€â”€ writer.py
â”‚
â”œâ”€â”€ pythia_workspace/           # Pythia8å·¥ä½œç©ºé—´
â”‚   â”œâ”€â”€ scripts/                # ç”Ÿæˆçš„æ¨¡æ‹Ÿè„šæœ¬
â”‚   â”œâ”€â”€ events/                 # äº‹ä»¶æ•°æ®
â”‚   â”œâ”€â”€ results/                # åˆ†æç»“æœJSON
â”‚   â””â”€â”€ figures/                # ç”Ÿæˆçš„å›¾è¡¨
â”‚
â”œâ”€â”€ output/                     # è¾“å‡ºç›®å½•
â”‚   â”œâ”€â”€ final_review_*.tex      # æœ€ç»ˆæ–‡çŒ®ç»¼è¿°
â”‚   â”œâ”€â”€ research_article_*.tex  # ç ”ç©¶è®ºæ–‡
â”‚   â””â”€â”€ react_sessions/         # ReActä¼šè¯è®°å½•
â”‚
â””â”€â”€ .env                        # ç¯å¢ƒå˜é‡é…ç½®
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

- Python 3.10+
- CUDA (å¯é€‰ï¼Œç”¨äºGPUåŠ é€Ÿ)

### 2. å®‰è£…ä¾èµ–

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd Mydata

# å®‰è£…Pythonä¾èµ–
pip install -r requirements.txt

# å®‰è£…Pythia8è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿå™¨
pip install pythia8mc

# ä¸‹è½½BGE-M3åµŒå…¥æ¨¡å‹ï¼ˆç”¨äºå‘é‡æ£€ç´¢ï¼‰
# æ¨¡å‹è·¯å¾„: /home/yuntao/bge-m3
```

### 3. é…ç½®APIå¯†é’¥

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
MIMO_API_KEY=your_api_key_here
# æˆ–è€…ä½¿ç”¨OpenAIå…¼å®¹çš„API
OPENAI_API_KEY=your_openai_key
OPENAI_API_BASE=https://api.openai.com/v1
```

### 4. è¿è¡Œåº”ç”¨

```bash
# å¯åŠ¨Streamlitåº”ç”¨
streamlit run react_streamlit.py

# æˆ–è€…å•ç‹¬è¿è¡Œæµæ°´çº¿
python step1_query_gen.py
python step2_download.py
python step3_vectordb.py
python step4_generate.py
```

---

## ğŸ“š ä½¿ç”¨æŒ‡å—

### æ–‡çŒ®ç»¼è¿°ç”Ÿæˆ

1. æ‰“å¼€ **ğŸ“š Literature Review** é¡µé¢
2. è¾“å…¥ç ”ç©¶ä¸»é¢˜ï¼ˆä¾‹å¦‚ï¼š"QCDç›¸å˜ä¸­çš„spinodalæ•ˆåº”"ï¼‰
3. ç‚¹å‡» **Run Full Pipeline** è¿è¡Œå®Œæ•´æµæ°´çº¿
4. ç­‰å¾…ç”Ÿæˆå®Œæˆï¼Œä¸‹è½½LaTeXæ–‡ä»¶

### ReActæ™ºèƒ½ä½“ç ”ç©¶

1. æ‰“å¼€ **ğŸ¤– ReAct Agent** é¡µé¢
2. é€‰æ‹©å·²ç”Ÿæˆçš„æ–‡çŒ®ç»¼è¿°æ–‡ä»¶
3. ç‚¹å‡» **Start** å¯åŠ¨è‡ªåŠ¨ç ”ç©¶æµç¨‹
4. æ™ºèƒ½ä½“å°†è‡ªåŠ¨ï¼š
   - è¯»å–æ–‡çŒ®ç»¼è¿°
   - æå–æœªæ¥ç ”ç©¶æ–¹å‘
   - ç”ŸæˆPythia8æ¨¡æ‹Ÿè„šæœ¬
   - æ‰§è¡Œæ¨¡æ‹Ÿå¹¶åˆ†æç»“æœ
   - ç”Ÿæˆå¯è§†åŒ–å›¾è¡¨

### è®ºæ–‡ç”Ÿæˆ

1. æ‰“å¼€ **ğŸ“ Article Generation** é¡µé¢
2. é€‰æ‹©æ–‡çŒ®ç»¼è¿°å’Œæ¨¡æ‹Ÿç»“æœæ–‡ä»¶
3. é…ç½®è®ºæ–‡æ ‡é¢˜å’Œç« èŠ‚
4. ç‚¹å‡» **Generate Article** ç”ŸæˆLaTeXè®ºæ–‡

---

## ğŸ”§ ReActæ™ºèƒ½ä½“å·¥å…·

| å·¥å…·åç§° | åŠŸèƒ½æè¿° |
|---------|---------|
| `read_file` | è¯»å–.tex, .py, .jsonç­‰æ–‡ä»¶ |
| `write_file` | åˆ›å»ºæˆ–ä¿®æ”¹æ–‡ä»¶ |
| `run_code` | æ‰§è¡ŒPythonä»£ç  |
| `pythia_generate` | ç”ŸæˆPythia8æ¨¡æ‹Ÿè„šæœ¬ |
| `pythia_api` | è·å–Pythia8 APIæ–‡æ¡£ |
| `extract_future_work` | ä»æ–‡çŒ®ä¸­æå–æœªæ¥ç ”ç©¶æ–¹å‘ |
| `parse_results` | è§£ææ¨¡æ‹Ÿç»“æœ |
| `list_files` | åˆ—å‡ºç›®å½•æ–‡ä»¶ |

---

## ğŸ¨ ç•Œé¢é¢„è§ˆ

### Streamlitä¸»ç•Œé¢

- **æ–‡çŒ®ç»¼è¿°æµæ°´çº¿**: å››æ­¥éª¤å¯è§†åŒ–è¿›åº¦
- **ReActæ™ºèƒ½ä½“**: å®æ—¶æµå¼å¯¹è¯ç•Œé¢
- **è®ºæ–‡ç”Ÿæˆ**: LaTeXé¢„è§ˆä¸ä¸‹è½½
- **å·¥ä½œæµå¯è§†åŒ–**: äº¤äº’å¼æµç¨‹å›¾

### HTMLå¯è§†åŒ–

æ‰“å¼€ä»¥ä¸‹æ–‡ä»¶æŸ¥çœ‹é™æ€å¯è§†åŒ–ï¼š

- `react_workflow.html` - å®Œæ•´å·¥ä½œæµå›¾
- `react_frontend.html` - äº¤äº’å¼åŠŸèƒ½æ¼”ç¤º

---

## ğŸ”¬ æŠ€æœ¯æ ˆ

| ç»„ä»¶ | æŠ€æœ¯ |
|-----|------|
| å‰ç«¯ç•Œé¢ | Streamlit, HTML/CSS/JS |
| å¤§è¯­è¨€æ¨¡å‹ | OpenAI API (å…¼å®¹) |
| å‘é‡æ•°æ®åº“ | ChromaDB |
| åµŒå…¥æ¨¡å‹ | BGE-M3 |
| è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿ | Pythia8mc |
| æ–‡æ¡£æ ¼å¼ | LaTeX, BibTeX |
| å¯è§†åŒ– | Matplotlib |

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## ğŸ‘¥ ä½œè€…

- **æè¿éŸ¬** - åä¸­å¸ˆèŒƒå¤§å­¦ ç‰©ç†ç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢
- **å´äºšç²** - åä¸­å¸ˆèŒƒå¤§å­¦ ç‰©ç†ç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢

ä¸“ä¸šï¼šç‰©ç†å­¦ï¼ˆåŸºåœ°ç­ï¼‰

---

## ğŸ™ è‡´è°¢

- [Pythia8](https://pythia.org/) - é«˜èƒ½ç‰©ç†è’™ç‰¹å¡æ´›äº‹ä»¶ç”Ÿæˆå™¨
- [ChromaDB](https://www.trychroma.com/) - å¼€æºå‘é‡æ•°æ®åº“
- [BGE-M3](https://huggingface.co/BAAI/bge-m3) - å¤šè¯­è¨€åµŒå…¥æ¨¡å‹
- [Streamlit](https://streamlit.io/) - Pythonæ•°æ®åº”ç”¨æ¡†æ¶

---

<div align="center">

**âš›ï¸ RAGæ–‡çŒ®ç»¼è¿°ä¸ReActç²’å­ç‰©ç†ç ”ç©¶ç³»ç»Ÿ**

åä¸­å¸ˆèŒƒå¤§å­¦ ç‰©ç†ç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢ Â© 2025

</div>

