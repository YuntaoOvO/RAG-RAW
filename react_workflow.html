<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReAct Particle Physics - Complete Workflow</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Playfair+Display:wght@600;700&family=Source+Sans+Pro:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        /* Light mode (default) - Apple-inspired */
        :root {
            --bg-primary: #fafafa;
            --bg-secondary: #ffffff;
            --bg-tertiary: #f5f5f7;
            --accent-blue: #0071e3;
            --accent-purple: #8b5cf6;
            --accent-cyan: #06b6d4;
            --accent-emerald: #34c759;
            --accent-amber: #f59e0b;
            --accent-rose: #f43f5e;
            --text-primary: #1d1d1f;
            --text-secondary: rgba(0, 0, 0, 0.56);
            --text-muted: #86868b;
            --border-color: rgba(0, 0, 0, 0.1);
            --glow-blue: rgba(0, 113, 227, 0.2);
            --glow-purple: rgba(139, 92, 246, 0.2);
            --glow-cyan: rgba(6, 182, 212, 0.2);
            --glass-bg: rgba(255, 255, 255, 0.72);
            --glass-border: rgba(255, 255, 255, 0.18);
            --code-bg: #f5f5f7;
            --svg-text: #1d1d1f;
            --svg-secondary: #86868b;
        }

        /* Dark mode - when system prefers dark */
        @media (prefers-color-scheme: dark) {
            :root {
                --bg-primary: #0a0e17;
                --bg-secondary: #111827;
                --bg-tertiary: #1f2937;
                --accent-blue: #3b82f6;
                --accent-purple: #8b5cf6;
                --accent-cyan: #06b6d4;
                --accent-emerald: #10b981;
                --accent-amber: #f59e0b;
                --accent-rose: #f43f5e;
                --text-primary: #f9fafb;
                --text-secondary: #9ca3af;
                --text-muted: #6b7280;
                --border-color: #374151;
                --glow-blue: rgba(59, 130, 246, 0.3);
                --glow-purple: rgba(139, 92, 246, 0.3);
                --glow-cyan: rgba(6, 182, 212, 0.3);
                --glass-bg: rgba(31, 41, 55, 0.8);
                --glass-border: rgba(55, 65, 81, 0.5);
                --code-bg: #0d1117;
                --svg-text: #f9fafb;
                --svg-secondary: #9ca3af;
            }
        }

        /* Manual theme toggle support */
        [data-theme="dark"] {
            --bg-primary: #0a0e17;
            --bg-secondary: #111827;
            --bg-tertiary: #1f2937;
            --accent-blue: #3b82f6;
            --text-primary: #f9fafb;
            --text-secondary: #9ca3af;
            --text-muted: #6b7280;
            --border-color: #374151;
            --glass-bg: rgba(31, 41, 55, 0.8);
            --glass-border: rgba(55, 65, 81, 0.5);
            --code-bg: #0d1117;
            --svg-text: #f9fafb;
            --svg-secondary: #9ca3af;
        }

        [data-theme="light"] {
            --bg-primary: #fafafa;
            --bg-secondary: #ffffff;
            --bg-tertiary: #f5f5f7;
            --accent-blue: #0071e3;
            --text-primary: #1d1d1f;
            --text-secondary: rgba(0, 0, 0, 0.56);
            --text-muted: #86868b;
            --border-color: rgba(0, 0, 0, 0.1);
            --glass-bg: rgba(255, 255, 255, 0.72);
            --glass-border: rgba(255, 255, 255, 0.18);
            --code-bg: #f5f5f7;
            --svg-text: #1d1d1f;
            --svg-secondary: #86868b;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Source Sans Pro', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Animated background - adapts to theme */
        .background-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: 
                radial-gradient(ellipse at 20% 20%, rgba(0, 113, 227, 0.05) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(139, 92, 246, 0.05) 0%, transparent 50%),
                radial-gradient(ellipse at 50% 50%, rgba(6, 182, 212, 0.03) 0%, transparent 60%);
        }

        @media (prefers-color-scheme: dark) {
            .background-animation {
                background: 
                    radial-gradient(ellipse at 20% 20%, rgba(59, 130, 246, 0.08) 0%, transparent 50%),
                    radial-gradient(ellipse at 80% 80%, rgba(139, 92, 246, 0.08) 0%, transparent 50%),
                    radial-gradient(ellipse at 50% 50%, rgba(6, 182, 212, 0.05) 0%, transparent 60%);
            }
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: var(--accent-cyan);
            border-radius: 50%;
            opacity: 0.3;
            animation: float 15s infinite ease-in-out;
        }

        @media (prefers-color-scheme: dark) {
            .particle {
                opacity: 0.4;
            }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) translateX(0); opacity: 0.2; }
            25% { transform: translateY(-100px) translateX(50px); opacity: 0.6; }
            50% { transform: translateY(-50px) translateX(-30px); opacity: 0.4; }
            75% { transform: translateY(-150px) translateX(20px); opacity: 0.5; }
        }

        /* Header - adapts to theme */
        header {
            background: var(--glass-bg);
            backdrop-filter: saturate(180%) blur(20px);
            -webkit-backdrop-filter: saturate(180%) blur(20px);
            border-bottom: 1px solid var(--border-color);
            padding: 1.5rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1600px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 4px 20px var(--glow-blue);
        }

        .logo-text {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--text-primary), var(--accent-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-tabs {
            display: flex;
            gap: 0.5rem;
        }

        .nav-tab {
            padding: 0.75rem 1.5rem;
            background: transparent;
            border: 1px solid transparent;
            color: var(--text-secondary);
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .nav-tab:hover {
            color: var(--text-primary);
            background: var(--bg-tertiary);
        }

        .nav-tab.active {
            color: var(--accent-cyan);
            background: rgba(6, 182, 212, 0.1);
            border-color: rgba(6, 182, 212, 0.3);
        }

        /* Theme toggle button */
        .theme-toggle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            margin-left: 1rem;
        }

        .theme-toggle:hover {
            transform: scale(1.1);
            border-color: var(--accent-cyan);
        }

        .theme-icon-dark { display: none; }
        .theme-icon-light { display: inline; }

        @media (prefers-color-scheme: dark) {
            .theme-icon-dark { display: inline; }
            .theme-icon-light { display: none; }
        }

        [data-theme="dark"] .theme-icon-dark { display: inline; }
        [data-theme="dark"] .theme-icon-light { display: none; }
        [data-theme="light"] .theme-icon-dark { display: none; }
        [data-theme="light"] .theme-icon-light { display: inline; }

        /* Main content */
        main {
            max-width: 1600px;
            margin: 0 auto;
            padding: 2rem;
        }

        .section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Workflow Diagram Container */
        .workflow-diagram-full {
            background: var(--glass-bg);
            backdrop-filter: saturate(180%) blur(20px);
            -webkit-backdrop-filter: saturate(180%) blur(20px);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            overflow: auto;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
        }

        @media (prefers-color-scheme: dark) {
            .workflow-diagram-full {
                box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
            }
        }

        .workflow-title {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            text-align: center;
            margin-bottom: 2rem;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Legend */
        .legend-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1.5rem;
            margin-top: 2rem;
            padding: 1.5rem;
            background: var(--bg-secondary);
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .legend-color {
            width: 24px;
            height: 24px;
            border-radius: 6px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }

        .legend-text {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* LaTeX Preview Section */
        .latex-section {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 2rem;
            margin-top: 2rem;
        }

        .latex-preview-container {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            overflow: hidden;
        }

        .latex-header {
            background: var(--bg-tertiary);
            padding: 1rem 1.5rem;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .latex-title {
            font-family: 'JetBrains Mono', monospace;
            color: var(--accent-cyan);
            font-size: 0.9rem;
        }

        .latex-actions {
            display: flex;
            gap: 0.5rem;
        }

        .latex-btn {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            padding: 0.375rem 0.75rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.2s ease;
        }

        .latex-btn:hover {
            background: var(--bg-primary);
            color: var(--text-primary);
            border-color: var(--accent-cyan);
        }

        .latex-content {
            padding: 1.5rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            line-height: 1.7;
            color: var(--text-primary);
            max-height: 600px;
            overflow-y: auto;
            background: var(--code-bg);
        }

        @media (prefers-color-scheme: dark) {
            .latex-content {
                color: #e6edf3;
            }
        }

        .latex-content .keyword { color: #ff7b72; }
        .latex-content .command { color: #d2a8ff; }
        .latex-content .comment { color: #8b949e; }
        .latex-content .string { color: #a5d6ff; }
        .latex-content .bracket { color: #79c0ff; }

        /* Info Panel */
        .info-panel {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 1.5rem;
        }

        .info-panel h3 {
            font-family: 'Playfair Display', serif;
            font-size: 1.3rem;
            margin-bottom: 1rem;
            color: var(--accent-cyan);
        }

        .info-list {
            list-style: none;
        }

        .info-list li {
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--border-color);
            color: var(--text-secondary);
            display: flex;
            justify-content: space-between;
        }

        .info-list li:last-child {
            border-bottom: none;
        }

        .info-value {
            color: var(--accent-cyan);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
        }

        /* Feature Cards */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .feature-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            border-color: var(--accent-cyan);
            transform: translateY(-4px);
            box-shadow: 0 8px 30px var(--glow-cyan);
        }

        .feature-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .feature-icon.blue { background: rgba(59, 130, 246, 0.2); }
        .feature-icon.purple { background: rgba(139, 92, 246, 0.2); }
        .feature-icon.cyan { background: rgba(6, 182, 212, 0.2); }
        .feature-icon.emerald { background: rgba(16, 185, 129, 0.2); }
        .feature-icon.amber { background: rgba(245, 158, 11, 0.2); }
        .feature-icon.rose { background: rgba(244, 63, 94, 0.2); }

        .feature-card h4 {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }

        .feature-card p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.6;
        }

        /* Tech Stack */
        .tech-stack {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 1.5rem;
            margin-top: 2rem;
        }

        .tech-stack h3 {
            font-family: 'Playfair Display', serif;
            margin-bottom: 1rem;
        }

        .tech-badges {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
        }

        .tech-badge {
            background: var(--bg-tertiary);
            color: var(--accent-cyan);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .tech-badge:hover {
            background: rgba(6, 182, 212, 0.1);
            border-color: var(--accent-cyan);
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 2rem;
            color: var(--text-muted);
            font-size: 0.9rem;
            border-top: 1px solid var(--border-color);
            margin-top: 2rem;
        }

        footer a {
            color: var(--accent-cyan);
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .latex-section {
                grid-template-columns: 1fr;
            }
            .feature-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .feature-grid {
                grid-template-columns: 1fr;
            }
            .nav-tabs {
                flex-wrap: wrap;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="background-animation">
        <div class="particle" style="left: 10%; top: 20%; animation-delay: 0s;"></div>
        <div class="particle" style="left: 25%; top: 60%; animation-delay: 2s;"></div>
        <div class="particle" style="left: 45%; top: 30%; animation-delay: 4s;"></div>
        <div class="particle" style="left: 65%; top: 70%; animation-delay: 1s;"></div>
        <div class="particle" style="left: 80%; top: 40%; animation-delay: 3s;"></div>
        <div class="particle" style="left: 90%; top: 80%; animation-delay: 5s;"></div>
    </div>

    <header>
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">‚öõÔ∏è</div>
                <span class="logo-text">ReAct Physics Workflow</span>
            </div>
            <nav class="nav-tabs">
                <button class="nav-tab active" data-section="workflow">Workflow Diagram</button>
                <button class="nav-tab" data-section="latex">LaTeX Report</button>
                <button class="nav-tab" data-section="features">Features</button>
                <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
                    <span class="theme-icon-light">‚òÄÔ∏è</span>
                    <span class="theme-icon-dark">üåô</span>
                </button>
            </nav>
        </div>
    </header>

    <main>
        <!-- Workflow Diagram Section -->
        <section id="workflow" class="section active">
            <div class="workflow-diagram-full">
                <h2 class="workflow-title">üî¨ Complete Research Pipeline: Literature Review ‚Üí ReAct Agent ‚Üí Article</h2>
                
                <svg width="1500" height="900" xmlns="http://www.w3.org/2000/svg" style="display: block; margin: 0 auto;">
                    <!-- Definitions -->
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="8" refX="9" refY="4" orient="auto">
                            <polygon points="0 0, 10 4, 0 8" fill="#9ca3af" />
                        </marker>
                        <linearGradient id="phase1Gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#3b82f6" />
                            <stop offset="100%" stop-color="#6366f1" />
                        </linearGradient>
                        <linearGradient id="phase2Gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#10b981" />
                            <stop offset="100%" stop-color="#06b6d4" />
                        </linearGradient>
                        <linearGradient id="phase3Gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#8b5cf6" />
                            <stop offset="100%" stop-color="#ec4899" />
                        </linearGradient>
                        <linearGradient id="outputGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#f59e0b" />
                            <stop offset="100%" stop-color="#f97316" />
                        </linearGradient>
                        <filter id="glow">
                            <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                            <feMerge>
                                <feMergeNode in="coloredBlur"/>
                                <feMergeNode in="SourceGraphic"/>
                            </feMerge>
                        </filter>
                        <filter id="shadow">
                            <feDropShadow dx="2" dy="2" stdDeviation="4" flood-opacity="0.3"/>
                        </filter>
                    </defs>

                    <!-- Background sections -->
                    <rect x="30" y="50" rx="20" ry="20" width="460" height="280" fill="rgba(59, 130, 246, 0.08)" stroke="rgba(59, 130, 246, 0.3)" stroke-width="2" stroke-dasharray="8,4"/>
                    <text x="260" y="85" text-anchor="middle" font-family="Playfair Display, serif" font-size="18" font-weight="600" fill="#3b82f6">Phase 1: Literature Review Pipeline</text>

                    <rect x="520" y="50" rx="20" ry="20" width="580" height="280" fill="rgba(16, 185, 129, 0.08)" stroke="rgba(16, 185, 129, 0.3)" stroke-width="2" stroke-dasharray="8,4"/>
                    <text x="810" y="85" text-anchor="middle" font-family="Playfair Display, serif" font-size="18" font-weight="600" fill="#10b981">Phase 2: ReAct Agent Loop</text>

                    <rect x="1130" y="50" rx="20" ry="20" width="340" height="280" fill="rgba(139, 92, 246, 0.08)" stroke="rgba(139, 92, 246, 0.3)" stroke-width="2" stroke-dasharray="8,4"/>
                    <text x="1300" y="85" text-anchor="middle" font-family="Playfair Display, serif" font-size="18" font-weight="600" fill="#8b5cf6">Phase 3: Output</text>

                    <!-- Phase 1: Literature Review -->
                    <!-- Step 1: User Input -->
                    <rect x="60" y="120" rx="12" ry="12" width="100" height="80" fill="url(#phase1Gradient)" filter="url(#shadow)"/>
                    <text x="110" y="150" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="24" fill="white">üéØ</text>
                    <text x="110" y="175" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="12" font-weight="600" fill="white">User Input</text>
                    <text x="110" y="190" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="10" fill="rgba(255,255,255,0.8)">Research Topic</text>

                    <!-- Arrow -->
                    <path d="M 160 160 L 185 160" stroke="#9ca3af" stroke-width="2" marker-end="url(#arrowhead)"/>

                    <!-- Step 2: Query Gen -->
                    <rect x="190" y="120" rx="12" ry="12" width="100" height="80" fill="url(#phase1Gradient)" filter="url(#shadow)"/>
                    <text x="240" y="150" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="24" fill="white">üîç</text>
                    <text x="240" y="175" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="12" font-weight="600" fill="white">Query Gen</text>
                    <text x="240" y="190" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="10" fill="rgba(255,255,255,0.8)">30 AI Queries</text>

                    <!-- Arrow -->
                    <path d="M 290 160 L 315 160" stroke="#9ca3af" stroke-width="2" marker-end="url(#arrowhead)"/>

                    <!-- Step 3: Download -->
                    <rect x="320" y="120" rx="12" ry="12" width="100" height="80" fill="url(#phase1Gradient)" filter="url(#shadow)"/>
                    <text x="370" y="150" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="24" fill="white">üì•</text>
                    <text x="370" y="175" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="12" font-weight="600" fill="white">Download</text>
                    <text x="370" y="190" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="10" fill="rgba(255,255,255,0.8)">arXiv PDFs</text>

                    <!-- Arrow Down -->
                    <path d="M 370 200 L 370 230" stroke="#9ca3af" stroke-width="2" marker-end="url(#arrowhead)"/>

                    <!-- Step 4: Vector DB -->
                    <rect x="320" y="235" rx="12" ry="12" width="100" height="80" fill="url(#phase1Gradient)" filter="url(#shadow)"/>
                    <text x="370" y="265" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="24" fill="white">üóÑÔ∏è</text>
                    <text x="370" y="290" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="12" font-weight="600" fill="white">Vector DB</text>
                    <text x="370" y="305" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="10" fill="rgba(255,255,255,0.8)">ChromaDB</text>

                    <!-- Arrow Left -->
                    <path d="M 320 275 L 295 275" stroke="#9ca3af" stroke-width="2" marker-end="url(#arrowhead)"/>

                    <!-- Step 5: 3-Stage Review -->
                    <rect x="60" y="235" rx="12" ry="12" width="230" height="80" fill="url(#phase1Gradient)" filter="url(#shadow)"/>
                    <text x="175" y="265" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="24" fill="white">üìù</text>
                    <text x="175" y="290" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="12" font-weight="600" fill="white">3-Stage Literature Review</text>
                    <text x="175" y="305" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="10" fill="rgba(255,255,255,0.8)">Draft 1 ‚Üí Draft 2 ‚Üí Final .tex</text>

                    <!-- Arrow to Phase 2 -->
                    <path d="M 420 275 L 500 275 L 500 160 L 550 160" stroke="#9ca3af" stroke-width="3" marker-end="url(#arrowhead)" fill="none"/>
                    <text x="500" y="145" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="11" fill="#9ca3af">review.tex</text>

                    <!-- Phase 2: ReAct Agent -->
                    <!-- Read Review -->
                    <rect x="555" y="120" rx="12" ry="12" width="100" height="80" fill="url(#phase2Gradient)" filter="url(#shadow)"/>
                    <text x="605" y="150" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="24" fill="white">üìñ</text>
                    <text x="605" y="175" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="12" font-weight="600" fill="white">Read</text>
                    <text x="605" y="190" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="10" fill="rgba(255,255,255,0.8)">Load Review</text>

                    <!-- Arrow -->
                    <path d="M 655 160 L 680 160" stroke="#9ca3af" stroke-width="2" marker-end="url(#arrowhead)"/>

                    <!-- Extract Future Work -->
                    <rect x="685" y="120" rx="12" ry="12" width="100" height="80" fill="url(#phase2Gradient)" filter="url(#shadow)"/>
                    <text x="735" y="150" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="24" fill="white">üîÆ</text>
                    <text x="735" y="175" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="12" font-weight="600" fill="white">Extract</text>
                    <text x="735" y="190" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="10" fill="rgba(255,255,255,0.8)">Future Work</text>

                    <!-- Arrow -->
                    <path d="M 785 160 L 810 160" stroke="#9ca3af" stroke-width="2" marker-end="url(#arrowhead)"/>

                    <!-- Select Direction -->
                    <rect x="815" y="120" rx="12" ry="12" width="100" height="80" fill="url(#phase2Gradient)" filter="url(#shadow)"/>
                    <text x="865" y="150" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="24" fill="white">üéØ</text>
                    <text x="865" y="175" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="12" font-weight="600" fill="white">Select</text>
                    <text x="865" y="190" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="10" fill="rgba(255,255,255,0.8)">Direction</text>

                    <!-- Arrow -->
                    <path d="M 915 160 L 940 160" stroke="#9ca3af" stroke-width="2" marker-end="url(#arrowhead)"/>

                    <!-- Generate Code -->
                    <rect x="945" y="120" rx="12" ry="12" width="100" height="80" fill="url(#phase2Gradient)" filter="url(#shadow)"/>
                    <text x="995" y="150" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="24" fill="white">üíª</text>
                    <text x="995" y="175" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="12" font-weight="600" fill="white">Code Gen</text>
                    <text x="995" y="190" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="10" fill="rgba(255,255,255,0.8)">Pythia8mc</text>

                    <!-- Arrow Down -->
                    <path d="M 995 200 L 995 230" stroke="#9ca3af" stroke-width="2" marker-end="url(#arrowhead)"/>

                    <!-- Execute -->
                    <rect x="945" y="235" rx="12" ry="12" width="100" height="80" fill="url(#phase2Gradient)" filter="url(#shadow)"/>
                    <text x="995" y="265" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="24" fill="white">‚ö°</text>
                    <text x="995" y="290" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="12" font-weight="600" fill="white">Execute</text>
                    <text x="995" y="305" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="10" fill="rgba(255,255,255,0.8)">Simulation</text>

                    <!-- Arrow Left -->
                    <path d="M 945 275 L 920 275" stroke="#9ca3af" stroke-width="2" marker-end="url(#arrowhead)"/>

                    <!-- Analyze -->
                    <rect x="815" y="235" rx="12" ry="12" width="100" height="80" fill="url(#phase2Gradient)" filter="url(#shadow)"/>
                    <text x="865" y="265" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="24" fill="white">üìä</text>
                    <text x="865" y="290" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="12" font-weight="600" fill="white">Analyze</text>
                    <text x="865" y="305" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="10" fill="rgba(255,255,255,0.8)">Results</text>

                    <!-- Arrow to Phase 3 -->
                    <path d="M 1045 275 L 1160 275" stroke="#9ca3af" stroke-width="3" marker-end="url(#arrowhead)"/>
                    <text x="1100" y="260" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="11" fill="#9ca3af">results.json</text>

                    <!-- Phase 3: Output -->
                    <!-- Write Article -->
                    <rect x="1165" y="120" rx="12" ry="12" width="130" height="80" fill="url(#phase3Gradient)" filter="url(#shadow)"/>
                    <text x="1230" y="150" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="24" fill="white">‚úçÔ∏è</text>
                    <text x="1230" y="175" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="12" font-weight="600" fill="white">Write Article</text>
                    <text x="1230" y="190" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="10" fill="rgba(255,255,255,0.8)">AI Composition</text>

                    <!-- Arrow Down -->
                    <path d="M 1230 200 L 1230 230" stroke="#9ca3af" stroke-width="2" marker-end="url(#arrowhead)"/>

                    <!-- Final Output -->
                    <rect x="1165" y="235" rx="12" ry="12" width="280" height="80" fill="url(#outputGradient)" filter="url(#glow)"/>
                    <text x="1305" y="265" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="24" fill="white">üìÑ</text>
                    <text x="1305" y="290" text-anchor="middle" font-family="Playfair Display, serif" font-size="14" font-weight="600" fill="white">Final Research Article</text>
                    <text x="1305" y="305" text-anchor="middle" font-family="Source Sans Pro, sans-serif" font-size="10" fill="rgba(255,255,255,0.8)">LaTeX ‚Ä¢ BibTeX ‚Ä¢ Publication-Ready</text>

                    <!-- ReAct Loop Indicator -->
                    <path d="M 815 315 Q 750 360 685 315" stroke="#06b6d4" stroke-width="2" stroke-dasharray="5,3" fill="none" marker-end="url(#arrowhead)"/>
                    <text x="750" y="375" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="10" fill="#06b6d4">ReAct Loop</text>

                    <!-- Details Section -->
                    <rect x="30" y="400" rx="16" ry="16" width="1440" height="480" fill="rgba(17, 24, 39, 0.8)" stroke="rgba(55, 65, 81, 0.5)" stroke-width="1"/>
                    <text x="750" y="440" text-anchor="middle" font-family="Playfair Display, serif" font-size="22" font-weight="600" fill="#f9fafb">System Architecture Details</text>

                    <!-- Literature Review Details -->
                    <rect x="60" y="470" rx="12" ry="12" width="330" height="180" fill="rgba(59, 130, 246, 0.1)" stroke="rgba(59, 130, 246, 0.3)" stroke-width="1"/>
                    <text x="225" y="500" text-anchor="middle" font-family="Playfair Display, serif" font-size="16" font-weight="600" fill="#3b82f6">üìö Literature Review Pipeline</text>
                    <text x="80" y="530" font-family="Source Sans Pro, sans-serif" font-size="13" fill="#9ca3af">‚Ä¢ Step 1: AI generates 30 search queries</text>
                    <text x="80" y="555" font-family="Source Sans Pro, sans-serif" font-size="13" fill="#9ca3af">‚Ä¢ Step 2: Download PDFs from arXiv</text>
                    <text x="80" y="580" font-family="Source Sans Pro, sans-serif" font-size="13" fill="#9ca3af">‚Ä¢ Step 3: Build ChromaDB vector index</text>
                    <text x="80" y="605" font-family="Source Sans Pro, sans-serif" font-size="13" fill="#9ca3af">‚Ä¢ Step 4: 3-stage review generation</text>
                    <text x="80" y="635" font-family="JetBrains Mono, monospace" font-size="11" fill="#3b82f6">Output: final_review_{timestamp}.tex</text>

                    <!-- ReAct Agent Details -->
                    <rect x="420" y="470" rx="12" ry="12" width="330" height="180" fill="rgba(16, 185, 129, 0.1)" stroke="rgba(16, 185, 129, 0.3)" stroke-width="1"/>
                    <text x="585" y="500" text-anchor="middle" font-family="Playfair Display, serif" font-size="16" font-weight="600" fill="#10b981">ü§ñ ReAct Agent Tools</text>
                    <text x="440" y="530" font-family="JetBrains Mono, monospace" font-size="12" fill="#06b6d4">read_file</text>
                    <text x="540" y="530" font-family="Source Sans Pro, sans-serif" font-size="12" fill="#9ca3af">- Read .tex, .py, .json</text>
                    <text x="440" y="555" font-family="JetBrains Mono, monospace" font-size="12" fill="#06b6d4">write_file</text>
                    <text x="540" y="555" font-family="Source Sans Pro, sans-serif" font-size="12" fill="#9ca3af">- Create files</text>
                    <text x="440" y="580" font-family="JetBrains Mono, monospace" font-size="12" fill="#06b6d4">pythia_generate</text>
                    <text x="580" y="580" font-family="Source Sans Pro, sans-serif" font-size="12" fill="#9ca3af">- MC scripts</text>
                    <text x="440" y="605" font-family="JetBrains Mono, monospace" font-size="12" fill="#06b6d4">run_code</text>
                    <text x="540" y="605" font-family="Source Sans Pro, sans-serif" font-size="12" fill="#9ca3af">- Execute simulations</text>
                    <text x="440" y="630" font-family="JetBrains Mono, monospace" font-size="12" fill="#06b6d4">extract_future_work</text>
                    <text x="620" y="630" font-family="Source Sans Pro, sans-serif" font-size="12" fill="#9ca3af">- Analyze</text>

                    <!-- Pythia8 Details -->
                    <rect x="780" y="470" rx="12" ry="12" width="330" height="180" fill="rgba(139, 92, 246, 0.1)" stroke="rgba(139, 92, 246, 0.3)" stroke-width="1"/>
                    <text x="945" y="500" text-anchor="middle" font-family="Playfair Display, serif" font-size="16" font-weight="600" fill="#8b5cf6">‚öõÔ∏è Pythia8mc Integration</text>
                    <text x="800" y="530" font-family="Source Sans Pro, sans-serif" font-size="13" fill="#9ca3af">‚Ä¢ Module: <tspan font-family="JetBrains Mono, monospace" fill="#a5d6ff">pythia8mc</tspan></text>
                    <text x="800" y="555" font-family="Source Sans Pro, sans-serif" font-size="13" fill="#9ca3af">‚Ä¢ Processes: MinBias, QCD, Higgs, Top</text>
                    <text x="800" y="580" font-family="Source Sans Pro, sans-serif" font-size="13" fill="#9ca3af">‚Ä¢ Energy: 13000 GeV (LHC)</text>
                    <text x="800" y="605" font-family="Source Sans Pro, sans-serif" font-size="13" fill="#9ca3af">‚Ä¢ Events: Configurable (1K-1M)</text>
                    <text x="800" y="635" font-family="JetBrains Mono, monospace" font-size="11" fill="#8b5cf6">pip install pythia8mc</text>

                    <!-- Output Details -->
                    <rect x="1140" y="470" rx="12" ry="12" width="300" height="180" fill="rgba(245, 158, 11, 0.1)" stroke="rgba(245, 158, 11, 0.3)" stroke-width="1"/>
                    <text x="1290" y="500" text-anchor="middle" font-family="Playfair Display, serif" font-size="16" font-weight="600" fill="#f59e0b">üìÑ Generated Outputs</text>
                    <text x="1160" y="530" font-family="JetBrains Mono, monospace" font-size="12" fill="#f59e0b">output/</text>
                    <text x="1180" y="555" font-family="Source Sans Pro, sans-serif" font-size="12" fill="#9ca3af">‚îú‚îÄ queries_{ts}.json</text>
                    <text x="1180" y="580" font-family="Source Sans Pro, sans-serif" font-size="12" fill="#9ca3af">‚îú‚îÄ draft1_{ts}.tex</text>
                    <text x="1180" y="605" font-family="Source Sans Pro, sans-serif" font-size="12" fill="#9ca3af">‚îú‚îÄ draft2_{ts}.tex</text>
                    <text x="1180" y="630" font-family="Source Sans Pro, sans-serif" font-size="12" fill="#9ca3af">‚îî‚îÄ <tspan fill="#f59e0b">final_review_{ts}.tex</tspan></text>
                </svg>
            </div>

            <div class="legend-container">
                <div class="legend-item">
                    <div class="legend-color" style="background: linear-gradient(135deg, #3b82f6, #6366f1);"></div>
                    <span class="legend-text">Phase 1: Literature Review</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: linear-gradient(135deg, #10b981, #06b6d4);"></div>
                    <span class="legend-text">Phase 2: ReAct Agent</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: linear-gradient(135deg, #8b5cf6, #ec4899);"></div>
                    <span class="legend-text">Phase 3: Article Writing</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: linear-gradient(135deg, #f59e0b, #f97316);"></div>
                    <span class="legend-text">Final Output</span>
                </div>
            </div>
        </section>

        <!-- LaTeX Preview Section -->
        <section id="latex" class="section">
            <h2 class="workflow-title">üìÑ LaTeX Report Preview</h2>
            
            <div class="latex-section">
                <div class="latex-preview-container">
                    <div class="latex-header">
                        <span class="latex-title">final_review_20250901_002253.tex</span>
                        <div class="latex-actions">
                            <button class="latex-btn" onclick="copyLatex()">üìã Copy</button>
                            <button class="latex-btn" onclick="downloadLatex()">üì• Download</button>
                        </div>
                    </div>
                    <pre class="latex-content" id="latexContent"><span class="command">\documentclass</span><span class="bracket">{</span>article<span class="bracket">}</span>
<span class="command">\usepackage</span><span class="bracket">{</span>amsmath, amssymb, graphicx<span class="bracket">}</span>
<span class="command">\usepackage</span><span class="bracket">{</span>hyperref, natbib<span class="bracket">}</span>

<span class="command">\title</span><span class="bracket">{</span><span class="string">Spinodal Effects in First-Order QCD Phase Transitions: 
A Comprehensive Literature Review</span><span class="bracket">}</span>
<span class="command">\author</span><span class="bracket">{</span>ReAct Physics Research System<span class="bracket">}</span>
<span class="command">\date</span><span class="bracket">{</span><span class="command">\today</span><span class="bracket">}</span>

<span class="command">\begin</span><span class="bracket">{</span>document<span class="bracket">}</span>
<span class="command">\maketitle</span>

<span class="command">\begin</span><span class="bracket">{</span>abstract<span class="bracket">}</span>
This comprehensive literature review examines the effect of spinodal 
decomposition in first-order phase transitions within the QCD equation 
of state and its implications for relativistic fluid dynamic simulations. 
We analyze recent theoretical developments, computational approaches, 
and experimental signatures relevant to heavy-ion collision physics.
<span class="command">\end</span><span class="bracket">{</span>abstract<span class="bracket">}</span>

<span class="command">\section</span><span class="bracket">{</span>Introduction<span class="bracket">}</span>
The study of QCD phase transitions represents a fundamental challenge in 
understanding the strong interaction <span class="command">\cite</span><span class="bracket">{</span>doc_001<span class="bracket">}</span>. The spinodal region, 
characterized by mechanical instability, plays a crucial role in the 
dynamics of first-order phase transitions <span class="command">\cite</span><span class="bracket">{</span>doc_002, doc_003<span class="bracket">}</span>.

<span class="comment">% ... Additional sections ...</span>

<span class="command">\section</span><span class="bracket">{</span>Theoretical Framework<span class="bracket">}</span>
The equation of state incorporating spinodal effects can be parameterized 
using the following form:
<span class="command">\begin</span><span class="bracket">{</span>equation<span class="bracket">}</span>
    P(T, \mu_B) = P_0(T) + \Delta P(\mu_B) + P_{spinodal}(T, \mu_B)
<span class="command">\end</span><span class="bracket">{</span>equation<span class="bracket">}</span>

<span class="command">\section</span><span class="bracket">{</span>Fluid Dynamic Simulations<span class="bracket">}</span>
Recent hydrodynamic simulations have incorporated spinodal instabilities 
through modified transport coefficients <span class="command">\cite</span><span class="bracket">{</span>doc_004<span class="bracket">}</span>. The evolution of 
the energy-momentum tensor follows:
<span class="command">\begin</span><span class="bracket">{</span>equation<span class="bracket">}</span>
    \partial_\mu T^{\mu\nu} = 0
<span class="command">\end</span><span class="bracket">{</span>equation<span class="bracket">}</span>

<span class="command">\section</span><span class="bracket">{</span>Future Work<span class="bracket">}</span>
Several promising research directions emerge from this review:
<span class="command">\begin</span><span class="bracket">{</span>itemize<span class="bracket">}</span>
    <span class="command">\item</span> Monte Carlo studies of spinodal decomposition dynamics
    <span class="command">\item</span> Improved EoS parameterizations near the critical point
    <span class="command">\item</span> Machine learning approaches for phase transition detection
<span class="command">\end</span><span class="bracket">{</span>itemize<span class="bracket">}</span>

<span class="command">\bibliographystyle</span><span class="bracket">{</span>unsrt<span class="bracket">}</span>
<span class="command">\bibliography</span><span class="bracket">{</span>references<span class="bracket">}</span>

<span class="command">\end</span><span class="bracket">{</span>document<span class="bracket">}</span></pre>
                </div>

                <div class="info-panel">
                    <h3>üìä Document Statistics</h3>
                    <ul class="info-list">
                        <li>
                            <span>Total Words</span>
                            <span class="info-value">3,247</span>
                        </li>
                        <li>
                            <span>Lines of LaTeX</span>
                            <span class="info-value">428</span>
                        </li>
                        <li>
                            <span>Citations</span>
                            <span class="info-value">47</span>
                        </li>
                        <li>
                            <span>Sections</span>
                            <span class="info-value">8</span>
                        </li>
                        <li>
                            <span>Equations</span>
                            <span class="info-value">12</span>
                        </li>
                        <li>
                            <span>File Size</span>
                            <span class="info-value">24.3 KB</span>
                        </li>
                    </ul>

                    <h3 style="margin-top: 2rem;">üîÑ Generation Info</h3>
                    <ul class="info-list">
                        <li>
                            <span>Timestamp</span>
                            <span class="info-value">20250901_002253</span>
                        </li>
                        <li>
                            <span>Model</span>
                            <span class="info-value">DeepSeek</span>
                        </li>
                        <li>
                            <span>Stages</span>
                            <span class="info-value">3</span>
                        </li>
                        <li>
                            <span>Papers Analyzed</span>
                            <span class="info-value">11</span>
                        </li>
                    </ul>

                    <h3 style="margin-top: 2rem;">üìÅ Output Files</h3>
                    <ul class="info-list">
                        <li>
                            <span>draft1.tex</span>
                            <span class="info-value">‚úÖ</span>
                        </li>
                        <li>
                            <span>draft2.tex</span>
                            <span class="info-value">‚úÖ</span>
                        </li>
                        <li>
                            <span>final_review.tex</span>
                            <span class="info-value">‚úÖ</span>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section id="features" class="section">
            <h2 class="workflow-title">üåü System Features</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon blue">üìö</div>
                    <h4>Automated Literature Review</h4>
                    <p>AI-powered 3-stage progressive generation with 30 targeted queries for comprehensive paper discovery.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon purple">ü§ñ</div>
                    <h4>ReAct Agent Framework</h4>
                    <p>Reason-Act loop enabling autonomous research with tool-augmented capabilities for complex tasks.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon cyan">‚öõÔ∏è</div>
                    <h4>Pythia8mc Integration</h4>
                    <p>Full Monte Carlo simulation support with automated script generation and execution.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon emerald">üóÑÔ∏è</div>
                    <h4>Vector Database</h4>
                    <p>ChromaDB with BGE-M3 embeddings for semantic search across your paper collection.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon amber">üìù</div>
                    <h4>LaTeX Output</h4>
                    <p>Publication-ready documents with proper citations, equations, and BibTeX compatibility.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon rose">üîÑ</div>
                    <h4>Streamlit Interface</h4>
                    <p>Interactive web UI for running pipelines, chatting with the agent, and visualizing results.</p>
                </div>
            </div>

            <div class="tech-stack">
                <h3>üõ†Ô∏è Technology Stack</h3>
                <div class="tech-badges">
                    <span class="tech-badge">Python 3.10+</span>
                    <span class="tech-badge">Pythia8mc</span>
                    <span class="tech-badge">ChromaDB</span>
                    <span class="tech-badge">BGE-M3</span>
                    <span class="tech-badge">OpenAI API</span>
                    <span class="tech-badge">DeepSeek</span>
                    <span class="tech-badge">Streamlit</span>
                    <span class="tech-badge">LangChain</span>
                    <span class="tech-badge">arXiv API</span>
                    <span class="tech-badge">LaTeX</span>
                    <span class="tech-badge">BibTeX</span>
                    <span class="tech-badge">NumPy</span>
                </div>
            </div>

            <div class="feature-grid" style="margin-top: 2rem;">
                <div class="feature-card">
                    <h4>üöÄ Quick Start</h4>
                    <pre style="background: #0d1117; padding: 1rem; border-radius: 8px; margin-top: 0.5rem; font-family: JetBrains Mono, monospace; font-size: 0.8rem; color: #e6edf3; overflow-x: auto;">
<span style="color: #8b949e;"># Run Streamlit app</span>
streamlit run react_streamlit.py

<span style="color: #8b949e;"># Or run pipeline directly</span>
python step1_query_gen.py
python step2_download.py
python step3_vectordb.py
python step4_generate.py</pre>
                </div>
                <div class="feature-card">
                    <h4>üì¶ Installation</h4>
                    <pre style="background: #0d1117; padding: 1rem; border-radius: 8px; margin-top: 0.5rem; font-family: JetBrains Mono, monospace; font-size: 0.8rem; color: #e6edf3; overflow-x: auto;">
<span style="color: #8b949e;"># Install Pythia8 Monte Carlo</span>
pip install pythia8mc

<span style="color: #8b949e;"># Install project dependencies</span>
pip install -r requirements.txt</pre>
                </div>
                <div class="feature-card">
                    <h4>‚öôÔ∏è Configuration</h4>
                    <pre style="background: #0d1117; padding: 1rem; border-radius: 8px; margin-top: 0.5rem; font-family: JetBrains Mono, monospace; font-size: 0.8rem; color: #e6edf3; overflow-x: auto;">
<span style="color: #8b949e;"># .env file</span>
OPENAI_API_KEY=your_key
OPENAI_API_BASE=https://api...

<span style="color: #8b949e;"># Model path for embeddings</span>
MODEL_PATH=/path/to/bge-m3</pre>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>
            ReAct Particle Physics Framework | 
            <a href="https://pypi.org/project/pythia8mc/" target="_blank">Pythia8mc</a> |
            <a href="https://pythia.org/" target="_blank">PYTHIA Documentation</a> |
            Run with <code>streamlit run react_streamlit.py</code>
        </p>
    </footer>

    <script>
        // Theme toggle with system preference detection
        const themeToggle = document.getElementById('themeToggle');
        
        // Check for saved theme preference or system preference
        function getPreferredTheme() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                return savedTheme;
            }
            return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        }

        function setTheme(theme) {
            if (theme === 'auto') {
                document.documentElement.removeAttribute('data-theme');
                localStorage.removeItem('theme');
            } else {
                document.documentElement.setAttribute('data-theme', theme);
                localStorage.setItem('theme', theme);
            }
        }

        // Initialize theme
        const currentTheme = localStorage.getItem('theme');
        if (currentTheme) {
            setTheme(currentTheme);
        }

        // Theme toggle click handler
        themeToggle.addEventListener('click', () => {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            if (currentTheme === 'dark') {
                setTheme('light');
            } else if (currentTheme === 'light') {
                // Reset to system preference
                setTheme('auto');
            } else {
                // Currently auto, set to opposite of system
                const systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                setTheme(systemDark ? 'light' : 'dark');
            }
        });

        // Listen for system theme changes
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
            if (!localStorage.getItem('theme')) {
                // Only react if no manual preference is set
                document.documentElement.removeAttribute('data-theme');
            }
        });

        // Navigation
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
                
                tab.classList.add('active');
                document.getElementById(tab.dataset.section).classList.add('active');
            });
        });

        // LaTeX actions
        function copyLatex() {
            const content = document.getElementById('latexContent').innerText;
            navigator.clipboard.writeText(content);
            alert('LaTeX copied to clipboard!');
        }

        function downloadLatex() {
            const content = document.getElementById('latexContent').innerText;
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'literature_review.tex';
            a.click();
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>

